(function(){function t(e){var t=/^(\d\d):(\d\d)(:(\d\d)(\.\d+)?)?/.exec(e);return t&&t[1]<=23&&t[2]<=59&&(!t[4]||t[4]<=59)?t[0].length:0}function n(e){return e&&t(e)==e.length}function r(e,t){return t==1||t==3||t==5||t==7||t==8||t==10||t==12?31:t==4||t==6||t==9||t==11?30:t==2&&(e%400==0||e%4==0&&e%100!=0)?29:28}function i(e){var t=/^(\d{4,})-(\d\d)-(\d\d)/.exec(e);return t&&t[1]>=1&&t[2]>=1&&t[2]<=12&&t[3]>=1&&t[3]<=r(t[1],t[2])?t[0].length:0}function s(e){return e&&i(e)==e.length}function o(e){var n=i(e);if(n&&e[n]=="T"){e=e.substr(n+1),n=t(e);if(n){e=e.substr(n);if(e=="Z")return!0;var r=/^[+-](\d\d):(\d\d)$/.exec(e);if(r&&r[1]<=23&&r[2]<=59)return!0}}return!1}function u(e){return e&&/\S/.test(e)?e.replace(/^\s+|\s+$/g,"").split(/\s+/):[]}function a(t){var n=e.map(u(t),function(e){return'[itemtype~="'+e.replace(/"/g,'\\"')+'"]'}).join("")||"*";return e(n,this).filter(function(){return this.getAttribute("itemscope")!=null&&this.getAttribute("itemprop")==null})}function f(e){while(e.parentNode)e=e.parentNode;return e}function l(e,t){var n=e.getAttribute(t);return n?n:""}function c(t){return function(){var n=u(this.attr(t));return n.contains=function(t){return e.inArray(t,this)!=-1},n}}function h(){var e=this[0];if(e.getAttribute("itemprop")==null)return null;if(this.itemScope())return e;switch(e.tagName.toUpperCase()){case"META":return this.attr("content")||"";case"AUDIO":case"EMBED":case"IFRAME":case"IMG":case"SOURCE":case"TRACK":case"VIDEO":return l(e,"src");case"A":case"AREA":case"LINK":return l(e,"href");case"OBJECT":return l(e,"data");case"DATA":return this.attr("value")||"";case"TIME":var t=e.getAttribute("datetime");if(t!=null)return t;default:return this.html()}}function p(t){function r(r){function s(o){for(var u=0;u<i.length;u++)i[u]==o&&i.splice(u--,1);var a=e(o);if(o!=r){var f=a.itemProp();f.length&&(!t||f.contains(t))&&n.push(o);if(a.itemScope())return}a.children().each(function(){s(this)})}var i=[r],o=f(r);e.each(e(r).itemRef(),function(t,n){var r=e("#"+n,o);r.length&&i.push(r[0])}),e.unique(i);while(i.length)s(i[0])}var n=[];return this.itemScope()&&r(this[0]),e(n)}var e=jQuery;e.microdata={},e.microdata.isValidGlobalDateAndTimeString=o,e.microdata.isValidDateString=s,e.fn.extend({items:a,itemScope:function(){return this[0].getAttribute("itemscope")!=null},itemType:c("itemtype"),itemId:function(){return l(this[0],"itemid")},itemProp:c("itemprop"),itemRef:c("itemref"),itemValue:h,properties:p})})();